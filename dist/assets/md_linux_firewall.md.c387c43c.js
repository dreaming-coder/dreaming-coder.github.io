import{_ as s,o as a,c as l,a as n}from"./app.f804f2e6.js";const F=JSON.parse('{"title":"CentOS 7 防火墙与端口开放","description":"","frontmatter":{},"headers":[{"level":2,"title":"关闭防火墙","slug":"关闭防火墙","link":"#关闭防火墙","children":[]},{"level":2,"title":"开启某个端口（80）","slug":"开启某个端口-80","link":"#开启某个端口-80","children":[]},{"level":2,"title":"重启防火墙","slug":"重启防火墙","link":"#重启防火墙","children":[]},{"level":2,"title":"其他常用命令","slug":"其他常用命令","link":"#其他常用命令","children":[]}],"relativePath":"md/linux/firewall.md","lastUpdated":1675347501000}'),p={name:"md/linux/firewall.md"},e=n(`<h1 id="centos-7-防火墙与端口开放" tabindex="-1">CentOS 7 防火墙与端口开放 <a class="header-anchor" href="#centos-7-防火墙与端口开放" aria-hidden="true">#</a></h1><h2 id="关闭防火墙" tabindex="-1">关闭防火墙 <a class="header-anchor" href="#关闭防火墙" aria-hidden="true">#</a></h2><div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">systemctl stop firewalld.service            </span><span style="color:#676E95;"># 停止 firewall</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl disable firewalld.service         </span><span style="color:#676E95;"># 禁止 firewall 开机启动</span></span>
<span class="line"></span></code></pre></div><h2 id="开启某个端口-80" tabindex="-1">开启某个端口（80） <a class="header-anchor" href="#开启某个端口-80" aria-hidden="true">#</a></h2><div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">firewall</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">cmd </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">zone</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">public </span><span style="color:#89DDFF;">--</span><span style="color:#82AAFF;">add-port</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">tcp </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">permanent</span></span>
<span class="line"></span></code></pre></div><p>命令含义</p><ul><li><p><code>–zone</code>：作用域</p></li><li><p><code>–add-port=80/tcp</code>：添加端口，格式为：<code>端口/通讯协议</code></p></li><li><p><code>–permanent</code>：永久生效，没有此参数重启后失效</p></li></ul><p>比如不拦截 Redis 的 6379 端口：</p><div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">firewall</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">cmd </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">zone</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">public </span><span style="color:#89DDFF;">--</span><span style="color:#82AAFF;">add-port</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">6379</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">tcp </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">permanent</span></span>
<span class="line"></span></code></pre></div><h2 id="重启防火墙" tabindex="-1">重启防火墙 <a class="header-anchor" href="#重启防火墙" aria-hidden="true">#</a></h2><div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">firewall</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">cmd </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">reload</span></span>
<span class="line"></span></code></pre></div><h2 id="其他常用命令" tabindex="-1">其他常用命令 <a class="header-anchor" href="#其他常用命令" aria-hidden="true">#</a></h2><div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">firewall</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">cmd </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">state                           </span><span style="color:#676E95;"># 查看防火墙状态，是否是 running</span></span>
<span class="line"><span style="color:#A6ACCD;">firewall</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">cmd </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">reload                          </span><span style="color:#676E95;"># 重新载入配置，比如添加规则之后，需要执行此命令</span></span>
<span class="line"><span style="color:#A6ACCD;">firewall</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">cmd </span><span style="color:#89DDFF;">--</span><span style="color:#82AAFF;">get-zones</span><span style="color:#A6ACCD;">                       </span><span style="color:#676E95;"># 列出支持的 zone</span></span>
<span class="line"><span style="color:#A6ACCD;">firewall</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">cmd </span><span style="color:#89DDFF;">--</span><span style="color:#82AAFF;">get-services</span><span style="color:#A6ACCD;">                    </span><span style="color:#676E95;"># 列出支持的服务，在列表中的服务是放行的</span></span>
<span class="line"><span style="color:#A6ACCD;">firewall</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">cmd </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">query</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">service ftp               </span><span style="color:#676E95;"># 查看 ftp 服务是否支持，返回 yes 或者 no</span></span>
<span class="line"><span style="color:#A6ACCD;">firewall</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">cmd </span><span style="color:#89DDFF;">--</span><span style="color:#82AAFF;">add-service</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">ftp                 </span><span style="color:#676E95;"># 临时开放 ftp 服务</span></span>
<span class="line"><span style="color:#A6ACCD;">firewall</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">cmd </span><span style="color:#89DDFF;">--</span><span style="color:#82AAFF;">add-service</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">ftp </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">permanent     </span><span style="color:#676E95;"># 永久开放 ftp 服务</span></span>
<span class="line"><span style="color:#A6ACCD;">firewall</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">cmd </span><span style="color:#89DDFF;">--</span><span style="color:#82AAFF;">remove-service</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">ftp </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">permanent  </span><span style="color:#676E95;"># 永久移除 ftp 服务</span></span>
<span class="line"><span style="color:#A6ACCD;">firewall</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">cmd </span><span style="color:#89DDFF;">--</span><span style="color:#82AAFF;">add-port</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">tcp </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">permanent     </span><span style="color:#676E95;"># 永久添加 80 端口 </span></span>
<span class="line"><span style="color:#A6ACCD;">iptables </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">L </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">n                                 </span><span style="color:#676E95;"># 查看规则，这个命令是和 iptables 的相同的</span></span>
<span class="line"><span style="color:#A6ACCD;">man firewall</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">cmd                               </span><span style="color:#676E95;"># 查看帮助</span></span>
<span class="line"></span></code></pre></div><p>更多命令，使用 firewall-cmd --help 查看帮助文件</p>`,14),o=[e];function c(t,r,D,y,i,C){return a(),l("div",null,o)}const d=s(p,[["render",c]]);export{F as __pageData,d as default};
